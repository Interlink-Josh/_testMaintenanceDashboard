{
  "dashboard": {
    "nn_is_template": false,
    "nn_confirm_delete": true,
    "nn_description": "Default Maintenance Manager dashboard. Changes to this dashboard will be overwritten upon ASI installation or upgrade. v1.2",
    "nn_title": "DEV - Maintenance Manager",
    "nn_grid_width": 40,
    "roles": [
      {
        "nn_description": "A level that can be set on a dashboard during creation",
        "nn_role_type_description": "A role that defines that a user can view said level of dashboard",
        "nn_role_name": "LevelOneDashboard",
        "nn_id": 2,
        "nn_role_type_name": "ViewDashboard"
      },
      {
        "nn_description": "A user that can edit dashboards that they can also view",
        "nn_role_type_description": "A role that defines that the user can edit the dashboard",
        "nn_role_name": "DashboardEditor",
        "nn_id": 4,
        "nn_role_type_name": "EditDashboard"
      }
    ],
    "nn_update_count": 18,
    "nn_css": "body {background-color: #eae8e8;}\n\nwidget-container {background-color: #fff; border: 2px solid #c5c5c5;}\n#parentDiv {\n    display: table;\n    height: 100%;\n    width: 100%;\n}\n\n#verticalAlign {\n    display: table-cell !important;\n    vertical-align: middle !important;\n}\n\n#widget9.nn-widget.textboxwidget {\n    overflow: visible!important;\n}\n\n#edit-icon {\n    display: none;\n}\n\nbody.theme-dark #mainHeader {\n    background-color: #333333;\n    color: #FFFFFF;\n    border-bottom: 2px solid #FFFFFF;\n    border-top: 2px solid #333333;\n    text-align: center;\n}\n\nbody.theme-dark #maintTable {\n    border-top: 2px solid white;\n}\n\nbody.theme-dark #menu {\n    background-color: #333333;\n    color: #FFFFFF;\n}\n\nbody.theme-dark .panel-heading {\n    background-color: #333333;\n    color: #FFFFFF;\n}\n\nbody.theme-dark #tableBody {\n    background-color: #333333 !important;\n    color: #FFFFFF !important;\n}\n\nbody.theme-dark .childNode {\n    background-color: #333333;\n    color: #FFFFFF;\n}\n\n\nbody.theme-dark .iss-form-control {\n    background-color: #333333 !important;\n    color: #FFFFFF !important;\n}\n\nbody.theme-dark input.iss-form-control {\n    background-color: #333333 !important;\n    color: #FFFFFF !important;\n}\n\nbody.theme-dark input.iss-form-control::placeholder {\n    color: #ccc;\n}\n\ninput.iss-form-control:disabled {\n    cursor: not-allowed;\n}\n\nbody.theme-light #mainHeader {\n    background-color: #FFFFFF;\n    color: black !important;\n    border-bottom: 2px solid #333333;\n    border-top: 2px solid #333333;\n    text-align: center;\n}\nbody.theme-light .nn-dashboard .panel, body.theme-dark .nn-dashboard .panel {\n    border: none;\n}\nbody.theme-light .nn-dashboard #menu{\n    border-top: 2px solid #333333;\n}\n body.theme-dark .nn-dashboard #menu {\n    border-top: 2px solid #ffffff;\n}\nbody.theme-light #maintTable {\n    border-top: 2px solid black;\n}\n\nbody.theme-light #menu {\n    background-color: #FFFFFF;\n}\n\nbody.theme-light .panel-heading {\n    background-color: #FFFFFF;\n}\n\nbody.theme-light .childNode {\n    background-color: #FFFFFF;\n    color: black;\n}\n\nbody.theme-light .nn-dashboard .list-group-item .active {\n    background-color: #EF7E09 !important;\n    color: #333333 !important;\n    cursor: pointer !important;\n}\n\nbody.theme-light #tableBody {\n    background-color: #FFFFFF !important;\n}\n\nbody.theme-light .iss-form-control {\n    background-color: #FFFFFF !important;\n}\n\n\n\n\n.btn.actions {\n    visibility: hidden;\n}\n\n.accordion-toggle:after {\n    font-family: 'Glyphicons Halflings';\n    content: \"\\e114\";\n    float: right;\n}\n\n.accordion-toggle.collapsed:after {\n    content: \"\\e080\"; \n}\n\n.childNode {\n    padding-left: 10%;\n}\n\n.childNode:hover {\n    cursor: pointer\n}\n\n.black {\n    background-color: black;\n}\n\n.table {\n    margin: 0px!important;\n}\n\n.panel {\n    border: none;/*1px solid #EBEBE4!important;*/\n}\n\n.labelText {\n\tfont-size: x-large;\n\t/*font-weight: bold;*/\n\ttext-align: center;\n}\n\n.tableText th {\n\ttext-align: left;\n\tfont-size:large;\n}\n\n.maintenanceRow {\n    border-bottom: 1px solid black;\n}\n\n.config {\n    text-align: center;\n}\n\n.heading {\n    text-align: left;\n}\n\n.iss-form-control {\n    border: 1px solid #CCC;\n    border-radius: 4px;\n}\n\n.modal-backdrop.in {\n    z-index:988;\n}\n\n.panel-heading {\n    height:10% !important;\n    \n}\n\n#editdashboard,\n#editdashboard + #home {\n    display: none;\n}\n/* Hide some of the AID buttons */\n\n#col-menu > .k-header-column-menu { color: #fff;}\n.selector-editor-widget, .selector-builder-widget, #AID-maintenanceManagerBtn{\n    font-size: 0;\n    width: 32px!important;\n    margin: 0 3px 0 0!important;\n    height: 33px;\n}\n\n.selector-editor-widget::before,.selector-builder-widget::before, #AID-maintenanceManagerBtn::before{\n    font-size: initial!important;\n    line-height: 1.5em;\n    padding: inherit;\n    font-family: \"FontAwesome\";\n}\n\n.selector-builder-widget::before {\n    content:\"\\f067\";\n}\n.selector-editor-widget::before {\n    content:\"\\f044\";\n}\n#AID-maintenanceManagerBtn::before {\n    content:\"\\f271\";\n}\n\n.selector-builder-widget::after,.selector-editor-widget::after, #AID-maintenanceManagerBtn::after{\n    padding: 2px;\n    display:none;\n    position: relative;\n    top: -20px;\n    right: -30px;\n    width: 150px;\n    text-align: center;\n    background-color: #fef4c5;\n    border: 1px solid #d4b943;\n    -moz-border-radius: 2px;\n    -webkit-border-radius: 2px;\n    -ms-border-radius: 2px;\n    border-radius: 2px;\n}\n.selector-builder-widget:hover::before,.selector-editor-widget:hover::before, #AID-maintenanceManagerBtn:hover::before{\n    display: none;\n}\n.selector-builder-widget:hover,.selector-editor-widget:hover, #AID-maintenanceManagerBtn:hover{\n    font-size: inherit;\n    width: fit-content!important;\n    margin: initial;\n    height: 33px\n}",
    "nn_grid_height": 40,
    "widgets": [
      {
        "nn_update_when_hidden": false,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "AID",
        "nn_initial_widget_view": "",
        "nn_width": "72%",
        "nn_real_time_feed": false,
        "nn_left_pos": "27%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "\n",
        "nn_backbone_view": "kendo-grid-widget-view",
        "nn_height": "40%",
        "nn_widget_type": "kendogridwidget",
        "nn_css_class": "",
        "nn_z_index": "1",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Alert Information Display",
        "nn_refresh_interval": 6,
        "nn_top_pos": "58%",
        "nn_chart_config_file": "KendoGridWidgetTemplate.ftl",
        "nn_chart_data_source": "${system.appname}/services/Alert?expr=[state-eq=ACTIVE]&ttl=5",
        "nn_settings": "{\"truncateColumnText\":true,\"enablePageNumbers\":true,\"actionURL\":\"/alert/operation/\",\"loadOwnData\":false,\"pageSize\":\"50\",\"polling\":false,\"showFilters\":true,\"showToolbar\":true,\"hasViews\":true,\"pollingIntervalRef\":-1,\"host\":\"\",\"showInactiveAlertsToggle\":false,\"modelURL\":\"/nn/rest/dataView/71f92eb3-0fa4-4186-ba69-858454615e36\",\"queryBuilderInstances\":[],\"hasCheckboxSelector\":false,\"userURL\":\"/rest/user\",\"hasPolling\":true,\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"dataType\":\"XML\",\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"hasSaveView\":true,\"hasRecordCount\":true,\"showMaintenanceAlerts\":true,\"userAIDSelector\":false,\"fontSize\":\"16\",\"colourRows\":true,\"viewDetail\":true,\"useModel\":true,\"hasExcel\":false,\"filterSettings\":\"3\",\"textFieldRenderAsText\":false,\"hasQueryBuilder\":true,\"selectors\":[],\"queryBuilderInstanceID\":1,\"listenForServiceViewEvents\":true,\"colourFirstColumn\":true,\"logLevel\":\"4\",\"hasUsers\":true,\"enableFontDropdown\":true,\"defaultSortFieldDirection\":\"-desc\",\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"actionsURL\":\"/rest/user\",\"showClosedAlerts\":true,\"defaultSelector\":\"/nn/rest/dataView/71f92eb3-0fa4-4186-ba69-858454615e36\",\"publicSelectors\":[{\"queryBuilderInstanceID\":\"alertsBySeverity\",\"owner\":{\"givenName\":\"\",\"familyName\":\"\",\"id\":2,\"username\":\"ppadmin\"},\"code\":\"883b7922-94d5-48ba-8b06-5019e246d523\",\"grouptype\":\"public view\",\"optionsType\":null,\"roles\":{\"view\":[{\"name\":\"SelectorView\",\"id\":38},{\"name\":\"DefaultSelector\",\"id\":42}],\"edit\":[{\"name\":\"SelectorEdit\",\"id\":39}]},\"dataType\":\"application/JSON\",\"name\":\"Active Alerts\",\"options\":null,\"description\":\"Active Alerts By Severity\",\"id\":2},{\"queryBuilderInstanceID\":\"default\",\"owner\":{\"givenName\":\"\",\"familyName\":\"\",\"id\":2,\"username\":\"ppadmin\"},\"code\":\"221a382f-ecc6-4f1a-8542-8c609f3aea54\",\"grouptype\":\"public view\",\"optionsType\":null,\"roles\":{\"view\":[{\"name\":\"DefaultSelector\",\"id\":42}],\"edit\":[]},\"dataType\":\"application/JSON\",\"name\":\"default\",\"options\":null,\"description\":\"Default selector\",\"id\":1},{\"queryBuilderInstanceID\":\"Development\",\"owner\":{\"givenName\":\"\",\"familyName\":\"\",\"id\":2,\"username\":\"ppadmin\"},\"code\":\"42deba86-8def-46e8-a8d9-67e20ff46987\",\"grouptype\":\"public view\",\"optionsType\":null,\"roles\":{\"view\":[{\"name\":\"SelectorView\",\"id\":38}],\"edit\":[{\"name\":\"SelectorEdit\",\"id\":39}]},\"dataType\":\"application/JSON\",\"name\":\"Development\",\"options\":null,\"description\":\"Development\",\"id\":3},{\"queryBuilderInstanceID\":\"MaintenanceAlerts\",\"owner\":{\"givenName\":\"\",\"familyName\":\"\",\"id\":2,\"username\":\"ppadmin\"},\"code\":\"71f92eb3-0fa4-4186-ba69-858454615e36\",\"grouptype\":\"public view\",\"optionsType\":null,\"roles\":{\"view\":[{\"name\":\"SelectorView\",\"id\":38},{\"name\":\"DefaultSelector\",\"id\":42}],\"edit\":[{\"name\":\"SelectorEdit\",\"id\":39}]},\"dataType\":\"application/JSON\",\"name\":\"MaintenanceAlerts\",\"options\":null,\"description\":\"MaintenanceAlerts\",\"id\":10}],\"dataURL\":\"/nn/services/Alert?expr=[state-eq=ACTIVE]&ttl=5\",\"defaultSortField\":\"dateCreated\",\"bulkOperation\":\"/alert/bulkOperation/\",\"hasActions\":true,\"renderTextColumnAsText\":false,\"linkedServiceViews\":null,\"viewsURL\":\"/rest/dataView?type=Selector\",\"groupable\":false,\"queryBuilderWidgetID\":\"widget2\",\"hasNotesIndicator\":false,\"hasPDF\":true,\"bulkOperations\":\"/rest/bulkOperations/\"}",
        "nn_data_source_type": "XML",
        "nn_id": 347,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 5
      },
      {
        "nn_update_when_hidden": false,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "connection",
        "nn_initial_widget_view": "",
        "nn_width": "25%",
        "nn_real_time_feed": false,
        "nn_left_pos": "1%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<div class=\"form-group\"  title=\"Maintenance Host\" style=\"margin-top:2%;\">\n    <!-- <label for=\"connectionList\">Maintenance Host</label> -->\n    <select class=\"form-control\" id=\"connectionList\" placeholder=\"Maintenance Host\">\n    </select>\n  </div>\n  <script>\n  \n  $(document).on('nn_all_created', function(){\n        var connectionWidgetList = ['maintenanceList','recordDisplay','dataWidget'];\n        var connectionsURL = '/nn/services/Connection?host-!eq=internal&instance-!eq=internal&i=host-maintenanceHost-maintenanceHostTimeZone&format=application/json';\n        var optionHTML = function(item){var value=item['properties']['host'] + item['properties']['maintenanceHost'] ; var label = item['properties']['host']; return '<option data-timezone=\"'+item['properties']['maintenanceHostTimeZone']+'\" value=\"'+value+'\">'+label+'</option>'};\n        \n        function maintenanceHostChange(e,d){\n            var val = e.currentTarget ? e.currentTarget.value : e;\n            NET_NOW.dashboard.setVar('maintenanceHost', val);\n            $.each(connectionWidgetList, function(i,w){\n                var widget = NET_NOW.dashboard.getWidget(w);\n                var oldURL  = widget.attributes.chartDataSource;\n                var newURL = oldURL.replace(/^.*\\/maintenance/, val)\n                // console.log('newURL',newURL)\n                // Update widget\n                widget.attributes.chartDataSource = newURL;\n                widget.reload();\n            });\n            // Set connection timezone display\n            var timezoneDisplaySelector = '#connection-timezone';\n            var connectionListSelector = '#connectionList';\n            var targetVal = $(connectionListSelector).val();\n            var maintenanceHostTimeZone = $(connectionListSelector).children().filter(function(i,e){return $(e).val() == targetVal}).data('timezone');\n            console.log(maintenanceHostTimeZone,e.currentTarget);\n            require(['moment-timezone'], function(moment){\n            console.log(maintenanceHostTimeZone);\n            maintenanceHostTimeZone = maintenanceHostTimeZone || moment.tz.guess();\n                $(timezoneDisplaySelector).text(maintenanceHostTimeZone);\n            }.bind(maintenanceHostTimeZone));\n            \n        };\n        \n        // Get connections\n        $.ajax(connectionsURL).then(function(res){\n            var connections = res['response']['content'];\n            //connections.push({'properties': {'host': 'example.com','maintenanceHost':'/service/maintenance'}})\n            $('#${widget.widgetId}').data('connections', $.extend([],connections));\n            // Clear options\n            $('#connectionList option').remove();\n            // re add options\n            var firstConnection = '/services/maintenance/';\n            $.each(connections, function(index, item){ if(index === 0){firstConnection = item['properties']['host'] + item['properties']['maintenanceHost'];};$('#connectionList').append(optionHTML(item));});\n            // initialize\n            maintenanceHostChange(firstConnection);\n            if($('#connectionList option').length <= 1){\n                $('#connectionList').attr('disabled', true);\n            };\n        });\n        \n        $('#connectionList').off('change').on('change', maintenanceHostChange);\n        \n  });\n  </script>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "5%",
        "nn_widget_type": "textboxwidget",
        "nn_z_index": "100",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "8%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": 349,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 7
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_widget_id": "dataWidget",
        "nn_initial_widget_view": "",
        "nn_width": "6%",
        "nn_real_time_feed": false,
        "nn_left_pos": "87%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<!-- Modal -->\n\n<#if (x.record[0])?? >\n\n    <#assign maintenanceRecord = p.recordName!>\n    \n    <div class=\"modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-body\">\n            <table class=\"table table-striped\">\n    \t\t\t<thead>\n    \t\t\t\t<tr>\n    \t\t\t\t\t<th colspan=\"3\" class=\"mainHeader\">Expression - ${maintenanceRecord!\"\"}</th>\n    \t\t\t\t</tr>    \t\n    \t\t\t</thead>\n    \t\t\t<tbody>\n    \t\t\t    <#if (x.record[0])?? >\n        \t\t\t    <#list x.record as records>\n        \t\t\t        <#if (records.selector[0])??>\n        \t\t\t        <#assign selector = records.selector!>\n        \t\t\t            <#if records.rdname = maintenanceRecord>\n                \t\t\t        <tr>\n                \t\t\t            <td>Selector</td>\n                \t\t\t            <td>${selector!}</td>\n                \t\t            </tr>\n                                </#if>\n                            <#else>\n                                <tr>\n            \t\t\t            <td>Selector</td>\n            \t\t\t            <td>No Selector Found</td>\n            \t\t            </tr>\n                            </#if>\n        \t\t\t    </#list>\n        \t\t\t<#else>\n        \t\t\t    <tr>\n    \t\t\t            <td>Selector</td>\n    \t\t\t            <td>No Selector Found</td>\n    \t\t            </tr>\n    \t\t\t    </#if>\n    \t\t\t</tbody>\n    \t\t</table>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n<#else>\n    <p></p>\n</#if>\n\n<style>\n.modal-backdrop.in\n{\n  z-index:988;\n}\n\n</style>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "4%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "maintList",
        "nn_z_index": "999",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "10%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "https://${p.maintenanceHost!\"/services/maintenance\"}/api/v1/record?GroupName=${p.groupName!\"\"}&RecordName=${p.recordName!\"\"}&dashboard=true",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "XML",
        "nn_id": 350,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 8
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_widget_id": "maintenanceList",
        "nn_initial_widget_view": "",
        "nn_width": "25%",
        "nn_real_time_feed": false,
        "nn_left_pos": "1%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<#-- Macro for generating node content -->\n<#macro displayRecords type name groupName items>\n    <#if (items['record']?size > 0) >\n    \t<a class=\"list-group-item panel-heading accordion-toggle collapsed\" href='#' data-toggle='collapse' data-target='.${type}' data-parent='#'><span class=\"badge pull-left\">${items['record']?size}</span>&nbsp ${name}</a>\n    \t\t<div class='sublinks collapse ${type}'>\n    \t\t\t<#list items?children as a>\n    \t\t\t\t<div class=\"list-group-item childNode\" id=\"${a['rdname'][0]}\" name=\"${groupName!\"err\"}\">\n\t\t\t\t\t    ${a['rdname'][0]} <#if a['change'][0]??>- ${a['change'][0]}</#if>\n\t\t\t\t\t</div>\n    \t\t\t</#list>\t\n    \t\t</div>\n    </#if>\n</#macro>\n\n<#-- Macro for displaying errors -->\n<#macro displayError message>\n    \t<div class=\"panel list-group\">\n    \t\t<a class=\"list-group-item panel-heading\">${message}</a>\n    \t</div>\n</#macro>\n\n<div id=\"menu\" class=\"panel\" style='height: 100%; overflow-y: scroll;'>\n<#if (x['//groups'].**?size > 0)>\n    <#list x['//groups']?children as a>\n        <#assign name = a.@name />\n        <div class=\"panel list-group\">\n            <a class=\"list-group-item panel-heading accordion-toggle collapsed\" href='#' data-toggle='collapse' data-target='#${name!\"err\"}' data-parent='#menu'>${name!\"err\"}</a>\n            <div id='${name!\"err\"}' class='sublinks collapse' data-type=\"maintenance\">\n                ${log.info('Calling displayRecords')}\n                <@displayRecords type=\"auto_active\" name='Active' groupName=name items=a.active/>\n                <@displayRecords type=\"auto_waiting\" name='Waiting' groupName=name items=a.waiting/>\n            </div>\t\t\t\t\n        </div>\n    </#list>\n<#else>\n    <@displayError message=\"No Records\" />\t\t\n</#if>\n</div>\n<style>\n#${widget.widgetId} .panel-heading {\n    height: 45px;\n}\n\n#${widget.widgetId} .list-group-item {\n   cursor:pointer;\n}\n\n\n\n#${widget.widgetId} .sublinks .panel-heading.accordion-toggle[aria-expanded=\"true\"] {\n   border-left: 2px solid #00cc00;\n   border-bottom-left-radius: 0;\n   border-top-left-radius: 0;\n   --test: 1;\n}\n</style>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "84%",
        "nn_widget_type": "simpletablewidget",
        "nn_css_class": "maintList widget-container",
        "nn_z_index": "2",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Simple Table",
        "nn_refresh_interval": 3,
        "nn_top_pos": "14%",
        "nn_chart_config_file": "SimpleTable.ftl",
        "nn_chart_data_source": "https://${p.maintenanceHost!\"/services/maintenance\"}/api/v1/recordsByGroup",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "XML",
        "nn_id": 342,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 0
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_widget_id": "recordDisplay",
        "nn_initial_widget_view": "",
        "nn_width": "72%",
        "nn_real_time_feed": false,
        "nn_left_pos": "27%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<#setting datetime_format=\"yyyy/MM/dd HH:mm:ss\">\n\n <div class=\"scroll\" style=\"background-color:white;\">   \n    <table id=\"maintTable\" class=\"table\">\n        <thead>\n            <tr>\n                <#if p.recordName??>\n                    <#if p.recordName == \"\">\n                        <th colspan=\"4\" id=\"mainHeader\" valign=\"bottom\">Selected Record: None\n                    <#else>\n                        <th colspan=\"4\" id=\"mainHeader\" valign=\"bottom\">Selected Record: ${p.groupName!\"\"} ${p.recordName!\"None\"}\n                    </#if>\n                <#else>\n                    <th colspan=\"4\" id=\"mainHeader\" valign=\"bottom\">Selected Record: ${p.groupName!\"\"} ${p.recordName!\"None\"}\n                </#if>\n                    \n                    <button \n                        <#if !p.groupName??>disabled</#if>\n                        id=\"showExpression\" data-toggle=\"modal\" data-target=\"#myModal\" class=\"btn btn-default pull-left showExpression\" title=\"Show Expression\" style=\"margin-right:4px;\"><i class='glyphicon glyphicon-info-sign'></i>\n                    </button>\n                    <!--\n                    <button \n                        <#if !p.groupName??>disabled</#if>\n                        id=\"removeRecord\" class=\"btn btn-default pull-right removeRecord\" title=\"Delete Maintenance Record\"><i class='glyphicon glyphicon-trash'></i>\n                    </button>\n                    -->\n                    <!--\n                    <button \n                        <#if !p.groupName??>disabled</#if> \n                        id=\"modifyRecord\" class=\"btn btn-default pull-right modifyRecord\" title=\"Edit Maintenance Record\"><i class='glyphicon glyphicon-pencil'></i>\n                    </button>\n                    -->\n                   \n                    <p id=\"saveText\" class=\"pull-right\" style=\"margin-top: 0.5%; font-style: italic; display:none;\" valign=\"middle\">&nbsp;Save?&nbsp;</p>\n                    \n                </th>\n            </tr>       \n        </thead>\n   \n        <tbody id=\"tableBody\">\n            <tr>\n                <td valign=\"middle\">Status</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//status'][0]!\"xxx\"}' disabled></td>\n                <td valign=\"middle\">Class</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//class'][0]!\"xxx\"}' disabled></td>\n            </tr>\n            <tr>\n                <td>Start Type</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//stype'][0]!\"xxx\"}' disabled></td>\n                <td>Start Date</td>\n\t\t\t\t<td style=\"text-align: center\" id=\"startDate\"><input class=\"iss-form-control mntStartDate\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//sdate'][0]!\"xxx\"}' disabled></td>\n                <td style=\"text-align: center; display:none;\" id=\"editStartDate\">\n\t\t\t\t    <input type=\"text\" class='iss-form-control tableRow' style=\"text-align: center; width: 100%\" value=\"\" id=\"datetimepicker2\">\n            \t</td>\n            </tr>\n            <tr>\n                <td>End Type</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//etype'][0]!\"xxx\"}' disabled></td>\n                <td>End Date</td>\n                <td style=\"text-align: center\" id=\"endDate\"><input class=\"iss-form-control mntEndDate\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//edate'][0]!\"xxx\"}' disabled></td>\n                <td style=\"text-align: center; display:none;\" id=\"editEndDate\">\n\t\t\t\t    <input type=\"text\" class='iss-form-control tableRow' style=\"text-align: center; width: 100%\" value=\"\" id=\"datetimepicker\">\n            \t</td>\n            </tr>\n            <tr>\n                <td>Action</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//action'][0]!\"xxx\"}' disabled></td>\n                <td>Duration</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control mntDurationTotal\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//duration'][0]!\"xxx\"}' disabled></td>\n            </tr>\n            <tr>\n                <td>Selector Name</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//selname'][0]!\"xxx\"}' disabled></td>\n                <td>Selector Group</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//selgroup'][0]!\"xxx\"}' disabled></td>\n            </tr>\n            <tr>\n                <td>Change Record/Text</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//change'][0]!\"xxx\"}' disabled></td>\n                <td>Started By</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//startedby'][0]!\"xxx\"}' disabled></td>\n            </tr>\n            <tr>\n                <td>Started On</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control mntStartDate\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//sdate'][0]!\"xxx\"}' disabled></td>\n                <td>End At</td>\n                <td style=\"text-align: center\"><input class=\"iss-form-control mntEndDate\" style=\"text-align: center; width: 100%\" type=\"text\" placeholder='${x['//edate'][0]!\"xxx\"}' disabled></td>\n            </tr>       \n        </tbody>\n    </table>\n    <style>\n     #${widget.widgetId} #mainHeader {\n         color: #333;\n         line-height: 33px;\n         font-family: 'Roboto', serif;\n        font-size: 1em;\n        font-weight: normal;\n     }\n    </style>\n</div>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "39%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "maintList widget-container",
        "nn_z_index": "1",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "14%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "https://${p.maintenanceHost!\"/services/maintenance\"}/api/v1/record?GroupName=${p.groupName!\"\"}&RecordName=${p.recordName!\"\"}&dashboard=true",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "XML",
        "nn_id": 346,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 4
      },
      {
        "nn_update_when_hidden": false,
        "nn_uses_views": false,
        "nn_dashboard_id": "73",
        "nn_data_converter_template": "",
        "nn_widget_id": "timezone-widget",
        "nn_initial_widget_view": "",
        "nn_width": "10%",
        "nn_real_time_feed": false,
        "nn_left_pos": "89%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<div id=\"connection-timezone-container\">Timezone: <span id=\"connection-timezone\">UTC</span></div>\n\n<style>\n#connection-timezone-container {\n    display: block;\n    height: 100%;\n    width: 100%;\n    vertical-align: middle;\n    line-height: 3em;\n    padding: 0 4px;\n    text-align: right;\n    color: white;\n}\n</style>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "5%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "",
        "nn_z_index": "11",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "8%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": "397",
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 1
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "warningtext",
        "nn_initial_widget_view": "",
        "nn_width": "62%",
        "nn_real_time_feed": false,
        "nn_left_pos": "27%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<div class='errors alert alert-danger text-center' style=\"display: none;\">Missing Field</div>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "5%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "",
        "nn_z_index": "10",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "8%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": 344,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 2
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "widget12",
        "nn_initial_widget_view": "",
        "nn_width": "25%",
        "nn_real_time_feed": false,
        "nn_left_pos": "1%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<button type=\"button\" class=\"btn btn-default allmainalerts\" id=\"AllAlerts\">All Maintenance Alerts</button>\n\n<style>#AllAlerts {margin:4px; float:right;}</style>\n<script>\n\nvar autoe = jQuery.Event( \"keydown\", {\n    keyCode: 13\n});\n\n// On click of maint record, set as active and update table\n\n$('#AllAlerts').click(function (e) {\n\n\t// Clear All Filters\n    //$('#NETNOW_kendo-grid-widget-AID').data(\"kendoGrid\").dataSource.filter({});\n    $(\"#NETNOW_kendo-grid-widget-AID\").data(\"kendoGrid\").refresh();\n    \n    NET_NOW.dashboard.setVar('groupName', \"\").setVar('recordName', \"\").setVar('mntStartDate', \"xxx\").setVar('mntEndDate', \"xxx\").setVar('mntDurationTotal', \"xxx\").setVar('userTimezoneShort', \"\");\n\tNET_NOW.dashboard.updateWidgetsInClass('maintList');\n    \n    // Collapse Maintenance List\n    $('#ASI').removeClass(\"in\");\n\n});\n\n</script>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "5%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "hide",
        "nn_z_index": "10",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "93%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": 345,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 3
      },
      {
        "nn_update_when_hidden": false,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "widget1",
        "nn_initial_widget_view": "",
        "nn_width": "100%",
        "nn_real_time_feed": false,
        "nn_left_pos": "0%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<#include 'iss-header.ftl'>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "8%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "",
        "nn_z_index": "0",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "0%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": 351,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 9
      },
      {
        "nn_update_when_hidden": true,
        "nn_uses_views": false,
        "nn_dashboard_id": 68,
        "nn_data_converter_template": "",
        "nn_widget_id": "widget8",
        "nn_initial_widget_view": "",
        "nn_width": "72%",
        "nn_real_time_feed": false,
        "nn_left_pos": "27%",
        "nn_caption": "",
        "nn_lock_position": false,
        "nn_fc_template": "<div id='mainHeader'  style='height: 100%;  padding-top: 1%; padding-left: 6px;'>\n    <#if p.recordName??>\n        <#if p.recordName == \"\">\n            <p>All Maintenance Alerts</p>\n        <#else>\n            <p>Record Name: ${p.recordName!\"All Maintenance\"}</p>\n        </#if>\n    <#else>\n        <p>${p.recordName!\"All Maintenance Alerts\"}</p>\n    </#if>\n</div>\n",
        "nn_backbone_view": "textbox-view",
        "nn_height": "5%",
        "nn_widget_type": "textboxwidget",
        "nn_css_class": "maintList widget-container",
        "nn_z_index": "2",
        "nn_x_axis": "",
        "nn_copy_params_tourl": false,
        "nn_selection_source": "widget7",
        "nn_warning_interval": 0,
        "nn_default_view_data": "",
        "nn_containing_tab_num": "",
        "nn_containing_widget": "",
        "nn_display_name": "Dynamic Text Box",
        "nn_refresh_interval": 0,
        "nn_top_pos": "53%",
        "nn_chart_config_file": "TextBox.ftl",
        "nn_chart_data_source": "",
        "nn_settings": "{\"degradedServices\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false},\"loadOwnData\":false,\"serviceSummaryColumns\":{\"slaImpact\":true,\"slaType\":true,\"managed\":true,\"targetFix\":true,\"details\":true,\"history\":false,\"availability\":true},\"withAlerts\":{\"always\":false,\"offline\":false,\"peak\":false,\"offpeak\":false}}",
        "nn_data_source_type": "None",
        "nn_id": 348,
        "nn_hide_on_startup": false,
        "nn_y_axis": "",
        "nn_widgets_idx": 6
      }
    ],
    "nn_lock_widget_positions": false,
    "nn_last_updated": "2022-03-21 17:23:34.677",
    "nn_date_created": "2022-03-21 09:45:22.974",
    "nn_show_popup_on_retry": false,
    "nn_locked_by": "ppadmin",
    "nn_html_head_includes": "<script>\n\n$(document).on('click', '.allmainalerts', function () {\n    NET_NOW.dashboard\n        .setVar('allalerts', 'selectedall')\n        .updateWidgetsInClass('AID');             \n});\n\n$(document).on('click', '.maintList', function () {\n    NET_NOW.dashboard\n        .setVar('allalerts', '')\n        .updateWidgetsInClass('AID');             \n    \n});\n\n$(document).on('click', '.opentab', function () {\n\tvar url = $(this).data('url') + '?',\n\t\twidget = NET_NOW.dashboard.getCurrentWidget($(this));\n\tconsole.log(url)\n\tif (url) {\n\t\tconsole.log('Searching for selected alerts in', widget.get('widgetId'));\n\t\t\n\t\t$('th.selector .selectable:checked', $(widget.view.$el)).each(function () {\n\t\t\tvar alertId = $(this).closest('tr').data('row-id');\n\n\t\t\tif (alertId) {\n\t\t\t\tconsole.log('Opening new tab for URL', url + alertId);\n\t\t\t\twindow.open(url + alertId, '_blank');\n\t\t\t}\n\t\t});\n\n\t} else {\n\t\tconsole.error('Link to open a new tab does not specify a URL');\n\t}\n});\n\n// Open Maintenance Generator\n$(document).on('click', '.generator', function (e) {\n    window.open('/nn/dashboard/show/name/maingen', '_blank');\n});\n\n</script>\n\n<script>\n\nvar autoe = jQuery.Event( \"keydown\", {\n    keyCode: 13\n});\n\n// Query for maintenance field\nNET_NOW.dashboard.setParam('maintenanceField','sysmntcls');\n$.get('/nn/alertInboundMapping/list?search=SMC').then(function(res){NET_NOW.dashboard.setParam('maintenanceField',$('td:contains(SMC) +td',res).text().trim())})\n//\n\n// on click of maint record, set as active and update table\n$(document).on('click', '.childNode', function(e){\t\n\tconsole.log(\"Adding new Filter...\");\n\t\n\t//set vars\n\tvar ID = $(this).attr('id'); \n\tvar name = $(this).attr('name'); \n\t\n\tvar alertField = NET_NOW.dashboard.getParam('maintenanceField');\n\tvar alertValue = name + \"_\" + ID;\n\tvar operatorValue = \"eq\";\n\tconsole.log('Adding filter item:',{ field: alertField, operator: operatorValue, value: alertValue })\n\t// set filter\n\tvar grid = $('[role=\"grid\"]')\n\t.parents('.k-widget')\n\t.data(\"kendoGrid\")\n\t//.filter({ field: alertField, operator: operatorValue, value: alertValue }); // Doesn't work if uf.sysctls isn't in selector\n    var gridURL = grid.dataSource.options.transport.read.url\n\t\n    gridURL = gridURL.replace(new RegExp('[?&]*&uf.'+alertField+'.*[&#]*','g'),'')+ ('&uf.'+alertField +'-'+operatorValue+'='+alertValue);\n\n    grid.dataSource.options.transport.read.url = gridURL;\n    console.log(grid.dataSource.transport.options.read)\n    grid.dataSource.fetch(); // Load\n\t$('.sublinks .active').removeClass('active');\n\t$(this).addClass('active');\n\t\n\tNET_NOW.dashboard.setVar('groupName', name).setVar('recordName', ID);\n\t//NET_NOW.dashboard.updateWidgetsInClass('maintList');\n\t\n    // Populate Start/End date in correct timezone\n    $.ajax({\n        url: ( 'https://'+NET_NOW.dashboard.getVar('maintenanceHost')+\"/api/v1/record?GroupName=\" + name + \"&RecordName=\" + ID + \"&dashboard=true\")\n    })\n\t.done(function (resp) {\n\t\tvar xml = resp;\n\t\tvar rawsdate = xml.getElementsByTagName(\"sdate\")[0].innerHTML;\n\t\tvar rawedate = xml.getElementsByTagName(\"edate\")[0].innerHTML;\n\n\t\trequire.config({\n            paths: {\n                \"moment\": \"/nn/assets/moment/moment\"\n            }\n        });\n        \n        require(['moment-timezone'], function (moment) {\n            moment.tz.add(\"Europe/London|LMT GMT BST BDST|1.f 0 -10 -20|01212121212121212121212121212121212121212121212121232323232321212321212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-4VgnW.J 2KHdW.J Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|10e6\");\n\n            var sdate = moment.utc(rawsdate);\n            var edate = moment.utc(rawedate);\n            \n            var mntStartDate = moment(rawsdate).tz(\"Europe/London\").format('YYYY/MM/DD HH:mm:ss');\n            var mntEndDate = moment(rawedate).tz(\"Europe/London\").format('YYYY/MM/DD HH:mm:ss');\n            \n            var mntDuration = moment.duration(edate.diff(sdate));\n            var hours = mntDuration.hours();\n            var minutes = mntDuration.minutes();\n            var seconds = mntDuration.seconds();\n            //console.log(\"Duration: \" + hours + \"H \" + minutes + \"M \" + seconds + \"S\");\n            var mntDurationTotal = (hours + \"h \" + minutes + \"m \" + seconds + \"s\");\n            console.log(mntDurationTotal);\n            \n            //var hours = duration.asHours();\n            \n            console.log('START  :: ', rawsdate);\n            console.log('END :: ', rawedate);\n            \n            console.log('START U :: ', sdate);\n            console.log('END U  :: ', edate);\n            \n            console.log('START F :: ', mntStartDate);\n            console.log('END F :: ', mntEndDate);\n            \n            var mntStartDateUTC = (mntStartDate + \" UTC\");\n            var mntEndDateUTC = (mntEndDate + \" UTC\");\n            \n            NET_NOW.dashboard.setVar('mntStartDate', mntStartDateUTC).setVar('mntStartDateRaw', mntStartDate).setVar('mntEndDate', mntEndDateUTC).setVar('mntEndDateRaw', mntEndDate).setVar('mntDurationTotal', mntDurationTotal);\n            NET_NOW.dashboard.updateWidgetsInClass('maintList');\n\n\t\t\t//$('.mntStartDate').val(sdate.tz(\"Europe/London\").format('YYYY/MM/DD HH:mm:ss'));\n            //$('.mntEndDate').val(edate.tz(\"Europe/London\").format('YYYY/MM/DD HH:mm:ss'));\n        });\n        \n    });\n    \n    //NET_NOW.dashboard.setVar('groupName', name).setVar('recordName', ID);\n\tNET_NOW.dashboard.updateWidgetsInClass('maintList');\n});\n\n\nvar setAlertMessage = function(alertMessage) {\n\t$('.alert').html(alertMessage);\n\t$('.errors').show();\n};\n\n// on click of remove record button\n$(document).on('click', '.removeRecord', function(e) {\n\t$('.errors').hide();\n\tif(confirm(\"Remove Record?\") == true) {\n\t\tvar data = '';\n\t\tconsole.log('remove maint record clicked');\n\t\tvar selectedGroup = NET_NOW.dashboard.getVar(\"groupName\");\n\t\tvar selectedRecord = NET_NOW.dashboard.getVar(\"recordName\");\n\t\tconsole.log('removing group: ' + selectedGroup + ', record: ' + selectedRecord);\n\t\t\n\t\tif(!selectedRecord || !selectedGroup) {\n\t\t\tsetAlertMessage('No Record Selected');\n\t\t\treturn;\n\t\t}\n\t\tvar url = 'https://'+NET_NOW.dashboard.getVar('maintenanceHost')+'/api/v1/record';\n\t\tdata += 'action=<SR><gpname>';\n\t\tdata += selectedGroup;\n\t\tdata += '</gpname><rdname>';\n\t\tdata += selectedRecord;\n\t\tdata += '</rdname><stoppedby>ppadmin</stoppedby></SR>';\n\t\tconsole.log('Webservice call details: ' + url+data);\n\t\t\n\t\tcallWebService(url.replace(/\\/\\?/g,'?'), data, \"Successfully stopped record\", true);\n\t\tNET_NOW.dashboard.updateWidget(\"widget7\");\n\t};\n});\n\n// on click of modify record\n$(document).on('click', '.modifyRecord', function(e) {\n\t$('.errors').hide();\n\tchangeToEdit();\n\n\t$('#saveText').show();\n\n\t$('#datetimepicker').datetimepicker({\n        format: 'yyyy/mm/dd hh:ii:ss',\n\t    autoclose: true\n    });\n\t\n\t$('#datetimepicker2').datetimepicker({\n        format: 'yyyy/mm/dd hh:ii:ss',\n\t    autoclose: true\n    });\n\n\tvar activeRecord = $('.active');\n\tvar parentClass = activeRecord.parent().attr('class');\n\tconsole.log(parentClass);\n\t\n\t// only enable start edit if record is waiting\n\t/**\n\t* Doesn't work in IE\n\tif(parentClass.includes('auto_waiting')) {\n\t\tconsole.log('record is active, cannot edit start date');\n\t\t$('#startDate').hide();\n\t\t$('#editStartDate').show();\n\t}*/\n\t\n\tif(activeRecord.parent().hasClass('auto_waiting')) {\n\t\tconsole.log('record is active, cannot edit start date');\n\t\t$('#startDate').hide();\n\t\t$('#editStartDate').show();\n\t}\n\t\n    $(\".icon-arrow-left\").addClass(\"glyphicon-chevron-left\");\n\t$(\".icon-arrow-right\").addClass(\"glyphicon-chevron-right\");\n\t\n\t// always enable end edit\n\t$('#endDate').hide();\n\t$('#editEndDate').show();\n\t\n});\n\n$(document).on('click', '.discardChanges', function(e) {\n\tchangeFromEdit();\n\n\t$('.alert').html(\"Discarded Changes\");\n\t$('.errors').removeClass('alert-danger').addClass('alert-success');\n\t$('.errors').show();\n\tsetTimeout(function() {\n\t\t$('.errors').hide();\n\t}, 4000);\n});\n\n$(document).on('click', '.saveChanges', function(e) {\n\t$('.errors').hide();\n\tvar data = '';\n\tvar url = NET_NOW.dashboard.getVar('maintenanceHost')+'/api/v1/record'\n\tvar selectedGroup = NET_NOW.dashboard.getVar(\"groupName\");\n\tvar selectedRecord = NET_NOW.dashboard.getVar(\"recordName\");\n\tvar newEnd = $('#datetimepicker').val();\t\n\tvar newStart = $('#datetimepicker2').val();\n\t\n\tif(newEnd < newStart) {\n\t\tsetAlertMessage('End time cannot be before start time');\n\t\treturn;\n\t}\n\tvar activeRecord = $('.active');\n\tvar parentClass = activeRecord.parent().attr('class');\n\tconsole.log(parentClass);\n\t\t\n\tdata += 'action=<AR><gpname>';\n\tdata += selectedGroup;\n\tdata += '</gpname><rdname>';\n\tdata += selectedRecord;\n\tdata += '</rdname>';\n\tdata += '<edate>' + newEnd + '</edate>';\t\n\t\n\t// only enable start edit if record is waiting\n\t/**\n\t* Doesn't work in IE...\n\t\n\tif(parentClass.('auto_waiting')) {\n\t\tdata += '<sdate>' + newStart + '</sdate>';\n\t}*/\n\t\n\tif(activeRecord.parent().hasClass('auto_waiting')) {\n\t\tdata += '<sdate>' + newStart + '</sdate>';\n\t}\n\t\n\tdata += '<duration></duration><alterby>' + $('#loggedInUser').html() + '</alterby></AR>';\n\tconsole.log('Webservice call details: ' + url+data);\n\n\tcallWebService(url, data, \"Successfully edited record\", false);\n\t\n\t// Update record table to show updated end date and duration period \n\tvar startDateRaw = NET_NOW.dashboard.getVar('mntStartDateRaw');\n\tvar newEnd = newEnd;\n\tvar newEndUTC = newEnd + \" UTC\";\n\t\n\trequire(['moment-timezone'], function (moment) {\n        moment.tz.add(\"Europe/London|LMT GMT BST BDST|1.f 0 -10 -20|01212121212121212121212121212121212121212121212121232323232321212321212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|-4VgnW.J 2KHdW.J Rc0 1fA0 14M0 1fc0 1g00 1co0 1dc0 1co0 1oo0 1400 1dc0 19A0 1io0 1io0 WM0 1o00 14o0 1o00 17c0 1io0 17c0 1fA0 1a00 1lc0 17c0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1cM0 1io0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1io0 1qM0 Dc0 2Rz0 Dc0 1zc0 Oo0 1zc0 Rc0 1wo0 17c0 1iM0 FA0 xB0 1fA0 1a00 14o0 bb0 LA0 xB0 Rc0 1wo0 11A0 1o00 17c0 1fA0 1a00 1fA0 1cM0 1fA0 1a00 17c0 1fA0 1a00 1io0 17c0 1lc0 17c0 1fA0 1a00 1io0 17c0 1io0 17c0 1fA0 1a00 1a00 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1tA0 IM0 90o0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|10e6\");\n\n        var sdate = moment.utc(startDateRaw);\n        var edate = moment.utc(newEnd);\n\t\n\t    var mntDuration = moment.duration(edate.diff(sdate));\n        var hours = mntDuration.hours();\n        var minutes = mntDuration.minutes();\n        var seconds = mntDuration.seconds();\n\n        var mntDurationTotal = (hours + \"h \" + minutes + \"m \" + seconds + \"s\");\n\n\t    NET_NOW.dashboard.setVar('mntEndDate', newEndUTC).setVar('mntDurationTotal', mntDurationTotal);\n        NET_NOW.dashboard.updateWidgetsInClass('maintList');\n    \n\t});\n\n\tchangeFromEdit();\n});\n\nvar changeFromEdit = function() {\n\t$('.saveChanges > i').removeClass('glyphicon-ok').addClass('glyphicon-pencil');\n\t$('.discardChanges > i').removeClass('glyphicon-remove').addClass('glyphicon-trash');\n\t\n\t$('.saveChanges').blur().addClass('modifyRecord').removeClass('saveChanges').prop('title', 'Edit Maintenance Record');\n\t$('.discardChanges').blur().addClass('removeRecord').removeClass('discardChanges').prop('title', 'Delete Maintenance Record');\n\n\t$('#saveText').hide();\n\t$('#endDate').show();\n\t$('#editEndDate').hide();\n\t$('#startDate').show();\n\t$('#editStartDate').hide();\n};\n\nvar changeToEdit = function() {\n\t$('.modifyRecord > i').removeClass('glyphicon-pencil').addClass('glyphicon-ok');\n\t$('.removeRecord > i').removeClass('glyphicon-trash').addClass('glyphicon-remove');\n\t\n\t$('.modifyRecord').blur().addClass('saveChanges').removeClass('modifyRecord').prop('title', 'Save Changes');\n\t$('.removeRecord').blur().addClass('discardChanges').removeClass('removeRecord').prop('title', 'Discard Changes');\n};\n\nvar callWebService = function(url, data, successMessage, forceRefresh) {\n\t$.ajax ({\n\t\turl: url,\n\t\tdata: data,\n                method: 'POST',\n\t\tsuccess: function(data) {\n\t\t\tconsole.log(data);\n\t\t\tconsole.log(\"success\");\n\t\t\t$('.alert').html(successMessage);\n\t\t\t$('.errors').removeClass('alert-danger').addClass('alert-success');\n\t\t\t$('.errors').show();\n\t\t\t\n\t\t\tif(forceRefresh) {\n\t\t\t\tNET_NOW.dashboard.deleteVar('groupName');\n\t\t\t\tNET_NOW.dashboard.deleteVar('recordName');\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tNET_NOW.dashboard.updateWidgetsInClass('maintList');\n\t\t\t}, 2000);\n\n\t\t\tsetTimeout(function() {\n\t\t\t\t$('.errors').hide();\n\t\t\t}, 3000);\n\t\t},\n\t\terror: function(data) {\n\t\t\tconsole.log(\"error\");\n\t\t\tconsole.log(data);\n\t\t\tif(data.responseText == \"\") {\n\t\t\t\tsetAlertMessage('Please click <a href=\"/piWS/\">/piWS/</a> and try again');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t});\n};\n\n$(document).on('nn_all_created', function(){$('#menu > .list-group > a:first-child').click();});\n</script>\n",
    "nn_automation_server": "",
    "nn_allow_automation": false,
    "nn_loading_message": "",
    "nn_updated_by": "ppadmin",
    "nn_name": "",
    "nn_id": 68
  }
}
